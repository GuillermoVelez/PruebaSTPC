<html>
    <head>
        <title>Technical_Test</title>
    </head>
    <body>
        <div>
            
        </div>

        <ul id='list'>

        </ul>
        <p>id</p>
        <input type="number" id="idProduct">
        <p>Name</p>
        <input type="text" id="Name">
        <p>Description</p>
        <input type="text" id="Description">
        <p>NumberReference</p>
        <input type="text" id="NumberReference">
        <p>Patent</p>
        <input type="number" id="Patent">
        <p>Category</p>
        <input type="number" id="Category">
        <p>Available unities</p>
        <input type="number" id="AvailableUnities">
        <p>Time warranty</p>
        <input type="number" id="TimeWarranty">
        <p>High (cm)</p>
        <input type="number" id="High">
        <p>Length (cm)</p>
        <input type="number" id="Length">
        <p>Width (cm)</p>
        <input type="number" id="Width">
        <button id="CreateProduct">CreateProduct</button>
    </body>
</html>

<script>
    const list = document.getElementById('list')
    const button = document.getElementById('CreateProduct')
    button.addEventListener('click',()=>{
        const newProduct={
            "id": idProduct,
            "nombre": "string",
            "descripcion": "string",
            "precio": "string",
            "numeroReferencia": "string",
            "idMarca": 0,
            "idCategoria": 0,
            "unidadesDisponibles": 0,
            "tiempoGarantia": 0,
            "alto": 0,
            "largo": 0,
            "ancho": 0

        }
    })
    
    function getProducts(){
        const res= fetch('https://electrics.azurewebsites.net/Electrodomestico/ListarElectrodomesticos?dataOwner=023223b1-9c10-40cb-a890-1f164057389d',
        { 
        }).then(products => products.json()).then(postFormat=>{
            console.log(postFormat);
            const list = document.getElementById('list');
            var txtOut ="";
            for (i=0;i<postFormat.length;i++){
                let newElement = document.createElement('li');
                txtOut += `<b>${postFormat[i].nombre}</b><br />`;
                txtOut += `Warranty: ${postFormat[i].tiempoGarantia}<br />`;
                txtOut += `Price: ${postFormat[i].precio}<br />`;
                txtOut += `Description: ${postFormat[i].descripcion}<br />`;
                txtOut += `Unities: ${postFormat[i].unidadesDisponibles}<br />`;
                newElement.innerHTML=txtOut;
                list.appendChild(newElement);
                txtOut="";
            }
        })
        return res
    }
    console.log(getProducts());
    
    /* then we create a new text node and append the text node to the element created*/
    //let text = document.createTextNode('Text Added!');newElement.appendChild(text);
    

    
</script>